# v0 마일스톤 (플레이테스트 우선)

이 문서는 Dice/Situation 기준 신규 기획의 **프로토타입 구현 -> 플레이테스트 검증** 순서를 추적합니다.

- 기준일: 2026-02-10
- 최우선 목표: 프로토타입 구현 후 플레이테스트로 핵심 재미 검증
- 원칙:
  - UI/UX 폴리싱은 후순위
  - 필요한 정보 노출 + 핵심 사이클 동작이면 v0 통과
  - 실제 테스트 주체는 시스템을 이해한 개발자 본인
- 진행률(체크리스트 기준): `14 / 18` (`78%`)
- 진행 바: `[##############----]`

## P0. 규칙 잠금 (완료)

1. [x] 핵심 재미 3축(우선순위/분배/조정) 확정
2. [x] 핵심 자원 축(`Defense`, `Stability`) 확정
3. [x] 턴 5단계 흐름 확정(턴 시작 -> 분배 -> 롤 -> 조정 -> 확정/정산)
4. [x] 정산 핵심 규칙 확정(`deadline` 턴 종료 감소, 감소 후 즉시 실패, `board_order` 순차)
5. [x] 상황 효과 스키마 v1 잠금(`effect_type`, `target_resource`, 필수 키 규칙)
6. [x] `board_order` 인덱스 재정렬 규칙 잠금(보드 변경 시 즉시 재인덱싱)
7. [x] v0 초기값 잠금(`Defense` 5, `Stability` 5, 시작 주사위 10, `Advisor` 슬롯 4, 시작 Advisor 6풀 중 랜덤 3개, `Decree` 슬롯 3, 시작 Decree 랜덤 2개, Gold 시스템 v0 비활성)
8. [x] v0 턴 파라미터 잠금(보유 주사위 전체 리필, `1/5/9...` 턴 시작 위험예산 스폰, 전체 랜덤 풀/중복 허용, 균등 추첨, 예산 초과 시 즉시 종료, 동시 Situation 상한 없음, 위험예산 고정값 `2000.0`, 주사위 분배 제한 없음, 미배치 허용, 롤/조정 재할당 불가)

## P1. 플레이 가능한 핵심 사이클 구현 (최우선)

9. [x] 최소 데이터 세트 작성
  - 9.1 [x] 데이터 파일/폴더 구조 확정 (`Situation`, `Advisor`, `Decree`, `DiceUpgrade`)
  - 9.2 [x] `Situation` 스키마 정의 (공통 필드 + 효과 필드 + `risk_value`)
  - 9.3 [x] `Situation` 데이터 8종 작성 (위기형만, `risk_value` 포함)
  - 9.4 [x] `Advisor` 스키마 정의 + 확정 6종 데이터 작성
  - 9.5 [x] `Decree` 스키마 정의 + 확정 풀 데이터 작성
  - 9.6 [x] `DiceUpgrade` 스키마 정의 + 확정 6종 데이터 작성
  - 9.7 [x] 런 시작 초기화 규칙 데이터 반영
  - 9.8 [x] 데이터 로더 구현 (JSON 로드 + 최소 검증 + 실패 시 에러 출력)
  - 9.9 [x] 시작 지급 로직 연결
  - 시작 `Advisor`: 6개 풀 중 랜덤 3개(중복 비허용)
  - 시작 `Decree`: 랜덤 2개 지급
  - 시작 주사위 강화: 전체 주사위 중 랜덤 3개 선정 + 강화 부여(중복 허용)
10. [x] 턴 루프 구현
  - 주사위 리필 -> 분배 -> 롤 -> 조정 -> 확정/정산
  - 런타임 상태머신(`TurnStart/Assignment/Roll/Adjustment/Resolution`) 연결
  - 스폰 턴(`1,5,9...`) 위험예산 스폰 골격 구현
11. [x] 상황 정산 구현
  - `demand` 반영, 성공/실패 판정, `deadline` 감소, 실패 즉시 처리
  - Resolution 단계에서 배치 주사위 합산 -> `demand` 감소 -> 성공 제거 처리 연결
  - 미해결 Situation `deadline -1` 및 실패 제거 처리 연결
12. [x] 효과 엔진 v1 구현
  - `resource_delta`, `demand_delta`, `deadline_delta`, `resource_guard`
  - 턴 시작 `on_turn_start_effects` 적용
  - `demand`/`deadline` 변화 시 즉시 성공/실패 연쇄 처리(FIFO 큐)
13. [x] 게임오버/런 지속 구현
  - `Defense <= 0` 또는 `Stability <= 0` 게임오버
  - 게임오버 전까지 턴 반복
  - 게임오버 상태에서 추가 턴 진행 차단
14. [x] 최소 입력/표시 UI 구현
  - 분배/조정/확정 입력 가능
  - 상황 카드에 성공/실패 효과 표시
  - `target_resource` 영향 아이콘 표시

## P2. 플레이테스트 준비

15. [ ] 빠른 반복 테스트 환경 구성
  - [x] 즉시 재시작
  - 시드 고정/랜덤 전환
  - 위험예산 스폰 로그(`budget`, 누적 사용량, 스폰 수) 출력
16. [ ] 플레이테스트 판정 방식 잠금
  - 정량 지표는 사용하지 않음
  - 체감 기반(재미 신호 중심)으로 계속/수정/중단 판정

## P3. 1차 검증 실행

17. [ ] 최소 10회 플레이 테스트 수행
18. [ ] 판정 회의(계속/수정/중단) 결론 작성

---

## v0 비목표 (명시)

- 아트 품질 개선
- 애니메이션/연출 고도화
- 조작감 폴리싱
- 신규 UX 패턴 실험

## 1차 합격 기준

- 약 10회 플레이에서 "재미 신호"가 반복적으로 감지되는가?
- 재미 신호가 약하면 기획 축 자체를 재검토한다.

## 지금 바로 다음 작업

1. P1-14: 최소 입력/표시 UI 구현
2. P2-15: 빠른 반복 테스트 환경 구성
3. P2-16: 플레이테스트 판정 방식 잠금
4. P3-17: 최소 10회 플레이 테스트 수행
5. P3-18: 판정 회의(계속/수정/중단) 결론 작성
