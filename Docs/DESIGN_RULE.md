# DESIGN_RULE.md

이 문서는 아이템/강화 시너지를 설계할 때 따라야 할 디자인 규칙을 정리한다.

## 목표

- 플레이어가 상점에서 등장한 상품을 보고, 최적의 시너지를 찾는 과정이 재미의 핵심이 되도록 한다.
- 시너지를 발견하면 명확한 보상을 제공하되, 모든 런이 같은 답으로 수렴하지 않게 한다.

## 시너지 테마

- 치명타 시너지: 치명타 확률/효과 강화, 치명타 발생 시 보상.
- 연사 시너지: 높은 공격속도/다수 투사체를 전제로 보상.
- 한방 시너지: 강한 단발의 이득 극대화.
- 빙결 시너지: 빙결 부여/유지/빙결 대상 보상 강화.

유틸/경제는 시너지가 아니며, 별도의 유틸/경제 풀로 관리한다.

## 용어 정의

- 코어(핵심): 없으면 해당 시너지가 성립하기 어려운 요소. 원칙적으로 Rare이며, 아주 핵심적이지 않은 코어는 Uncommon을 허용한다.
- 보조: 코어 효과를 강화/확장하는 요소. 단독으로는 시너지 확정을 만들기 어렵다.

## 디자인 규칙

1. 모든 선택은 흥미로워야 한다.

- 상위호환을 피하고, 아이템/강화가 “자신만의 자리”를 갖도록 한다.
- 어떤 선택도 상황/빌드에 따라 유효할 여지를 남긴다.

2. 시너지 완성은 너무 쉽지 않아야 한다.

- 핵심 재료는 높은 등급/낮은 출현 확률 등으로 희소성을 확보한다.
- “등장=완성”이 되지 않도록, 복수의 조건/재료를 요구한다.
- 완성 난이도 가이드(정량):
  - 핵심 재료: Rare 이상 1개를 기본으로 한다.
  - 보조 재료: Common/Uncommon 2개를 기본으로 한다.
  - 즉, 시너지 단위 최소 조건은 “Rare(핵심) 1 + 보조 2”를 기준으로 본다.

3. 빌드 진행 타임라인(20 스테이지 기준)

- 10 스테이지 이내 “빌드 확정” 확률 80%를 목표로 한다.
  - 빌드 확정: 아이템(핵심 1+ / 보조 2+), 강화(핵심 1+ / 보조 2+).
- 16 스테이지 이내 “빌드 완성” 확률 50%를 목표로 한다.
  - 빌드 완성: 아이템(핵심 2+ / 보조 4+), 강화(핵심 2+ / 보조 4+).

4. 매 런의 경험은 유니크해야 한다.

- 동일 시너지 반복을 유도하지 않도록 변주와 기회비용을 설계한다.
- 시스템이 다양한 시도를 격려하고, 그 보상을 명확히 제공해야 한다.

5. 과하게 복잡하지 않아야 한다.

- 효과는 간단하고 직관적이어야 한다.
- 깊이는 복잡한 단일 효과가 아닌, 단순한 효과들의 조합으로 만든다.

## 설계 체크리스트(초안)

- 이 선택은 다른 선택 대비 “새로운 질문”을 만들고 있는가?
- 상점에서 이 선택이 ‘갈등’을 만들고 있는가?
- 시너지 핵심 재료가 너무 흔하지 않은가?
- 이 아이템/강화가 특정 빌드에서만 강한 이유가 명확한가?
- 설명이 한눈에 이해되는가?

## 콘텐츠 구성 가이드(확정)

- 시너지 1개당(아이템/강화 동일): 총 9종
  - 핵심 2종: Rare 1 + Uncommon 1
  - 보조 7종: Rare 2 + Uncommon 3 + Common 2
  - 등급 합: Rare 3 / Uncommon 4 / Common 2
- 4 시너지 합계: 총 36종
  - Rare 12 / Uncommon 16 / Common 8
- 유틸/경제 풀(시너지 아님): 전체의 20%
  - 총 9종: Common 6 / Uncommon 2 / Rare 1
- 전체 풀(아이템 또는 강화 1종 기준): 총 45종
  - Rare 13 / Uncommon 18 / Common 14
- 아이템+강화 합산: 총 90종
  - Rare 26 / Uncommon 36 / Common 28

## 현재 경제/상점 파라미터(기준)

- 스테이지 수: 20
- 상점 오픈: 스테이지당 1회
- 상점 상품 수: 4
- 상품 비율(가중치): 아이템 50 / 업그레이드 50
- 희귀도 가중치: Common 60 / Uncommon 30 / Rare 10
- 리롤 비용: 기본 1, 리롤마다 +1
- 리롤 가정: 상점당 평균 1회 정도 리롤을 누르는 것으로 본다.
- 기본 수입: 5
- 이자: 5원당 1, 최대 5
- 인벤토리 슬롯: 12
- 아이템당 강화 슬롯: 3

## 추가로 고려해야 할 수치(의사결정용)

- 등급별 평균 가격/분산(구매 난이도 체감).
- 스테이지별 평균 수입(기본+이자)과 평균 보유 골드.
- 리롤 기대 횟수(스테이지당 평균 리롤 수).
- 상품 풀 크기(아이템/업그레이드 총 개수)와 중복 허용 정책.
- 코어/보조 아이템의 실제 등장 빈도(희귀도 가중치 반영).
- 슬롯 포화 시점(인벤/업그레이드 슬롯이 실제로 꽉 차는 스테이지).

## 현재까지의 논의 요약

- 시너지 테마는 4종(치명타/연사/한방/빙결)이며, 유틸/경제는 시너지가 아니다.
- 핵심 재미는 상점에서 랜덤 등장 상품을 기반으로 “최적 시너지”를 찾는 과정이다.
- 빌드는 20스테이지 기준 10스테이지 이내 확정(80%), 16스테이지 이내 완성(50%)을 목표로 한다.
- 빌드 확정/완성 기준: 아이템(확정 1/2, 완성 2/4), 강화(확정 1/2, 완성 2/4).
- 핵심 재료는 Rare 이상 1개를 기본으로 하고, 보조 재료는 Common/Uncommon 2개를 기본으로 본다.
- 시너지별 풀은 1개당 9종(핵심 2, 보조 7), 4시너지 합계 36종으로 확정했다.
- 유틸/경제 풀은 전체의 20%(총 9종)이며, 전체 풀은 아이템/강화 각각 45종이다.

## 개선사항/보강 아이디어(검토 필요)

- 시너지별 테이블(핵심/보조/희귀도/역할)을 문서에 추가하면 설계 속도가 빨라진다.
- 상점/경제 파라미터 기반으로 스테이지별 기대 구매 수치(구매 횟수/리롤 수) 표를 만들면
  “10스테이지 확정, 16스테이지 완성” 목표를 정량 검증할 수 있다.

## 치명타 시너지 후보(기록)

아이템

Uncommon
3. Uncommon: 치명타 발생 시 치명타 확률 +2%(쿨다운 1초).
4. Uncommon: 스테이지 시작 시 치명타 확률 +30%, 1초마다 1%씩 감소(0%까지).
5. Uncommon: 치명타 발생 시 30% 확률로 빙결 1 부여.
6. Uncommon: 피해 -10%, 치명타 피해 +50%.
쿠나이 - 치명타 확률 x2

Rare
7. Rare: 치명타 발생 시 50% 확률로 폭발.
8. Rare: 투사체 최초 치명타 발생 시 관통 2 부여(1회만 발동).
9. Rare: 무기 - 분열 저격총, 치명타 발생 시 분열(최대 3회).

강화
Common
1. Common: 해당 무기의 치명타 확률 +20%.
2. Common: 치명타 확률 +10%, 치명타 피해량 +30%.

Uncommon
3. Uncommon: 해당 무기의 치명타 확률 +40%, 치명타가 발생하지 않을 때마다 치명타 확률 -5%.
4. Uncommon: 해당 무기의 치명타 확률만큼 피해 배율 증가.
5. Uncommon: 5번 공격할 때마다 다음 공격 확정 치명타.
6. Uncommon: 해당 무기의 첫 10번 피해가 확정 치명타.

Rare
8. Rare: N초마다 1회 확정 치명타.
9. Rare: 치명타 발생 시 아이템의 현재 쿨다운을 절반으로 감소.
10. Rare: 치명타로 블럭 파괴 시 10% 확률로 +1$.
