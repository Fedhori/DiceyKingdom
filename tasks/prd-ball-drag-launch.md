# PRD - 볼 드래그/발사 방식 리팩토링 (벽돌깨기 스타일)

## 1. 개요
- 목표: Ready 단계에서 플레이어가 드래그로 볼의 시작 위치와 발사 방향을 지정하는 벽돌깨기식 조준 UX를 도입한다.
- 기존: 버튼으로 Ready→Play 전환 후, 미리 설정된 좌표 중 무작위에서 볼 스폰.
- 변경: Ready 단계에서 화면을 드래그하여 시작 위치(x)와 방향을 지정, 유효 드래그 시 Play로 전환하며 지정된 방향으로 볼 시퀀스를 발사한다.

## 2. 목표
- Ready 단계에서 마우스/터치 드래그로 시작 위치와 발사 방향을 직관적으로 지정할 수 있어야 한다.
- 유효 드래그 시 Play 단계로 전환하고, 기존 볼 시퀀스/속도를 유지한 채 지정 방향으로 발사한다.
- 무효 드래그(최소 거리 미만, 아래 방향 등)는 취소 처리 후 Ready 상태로 남고, 시각 요소를 숨긴다.

## 3. 유저 스토리
1) 플레이어로서 Ready 상태에서 드래그만으로 볼 시작 위치와 발사 방향을 설정해 직관적으로 조준하고 싶다.
2) 플레이어로서 유효하지 않은 조준(너무 짧거나 아래 방향)을 했을 때 발사가 취소되고, 다시 조준할 수 있길 원한다.
3) 플레이어로서 기존과 동일한 속도/볼 시퀀스(여러 볼 발사)가 유지되길 원한다.

## 4. 기능 요구사항
1) Ready 단계에서 BallDragArea 위를 드래그 시작할 때, 터치 지점의 x와 고정 월드 y를 시작 위치로 설정하고 미니 볼 스프라이트로 시각화한다.
2) 드래그 중 시작점 기준 반대 방향을 화살표로 표시한다.
3) 유효 판정: (a) 드래그 거리가 최소 임계값 이상, (b) 발사 방향의 y가 양수(위쪽)일 때만 유효. 그렇지 않으면 취소 처리.
4) 드래그를 놓을 때 유효하면 Play 단계로 전환하고, 기존 볼 시퀀스/속도를 유지한 채 지정 방향으로 발사한다.
5) 무효 드래그 시 Ready 상태를 유지하고, 미니 볼/화살표 등 시각 요소를 숨긴다.
6) Input System을 사용해 마우스/터치 모두 대응한다.
7) 시작 위치 y는 월드 좌표계의 고정값(임의 값, 인스펙터 조정 가능)으로 사용한다.
8) 시각 리소스는 기존 스프라이트를 활용한다(프리팹 필요 없음).

## 5. 비범위 (Out of Scope)
- 발사 속도/볼 시퀀스 변경 없음(기존 로직 재사용).
- 추가 애니메이션/이펙트 확장 없음(필요 시 후속 작업).
- 새로운 프리팹 생성 없음(기존 스프라이트만 활용).

## 6. 설계 고려사항
- FlowPhase Ready에서만 드래그 입력을 받고, Play 전환 후 입력 차단.
- BallSpawn 포인트 계산을 시작점·방향 기반으로 대체, 기존 랜덤 좌표 선택 로직 제거/비활성화.
- 최소 드래그 거리/각도 임계값을 인스펙터로 조정 가능하게 노출.
- 화살표/미니 볼은 간단한 SpriteRenderer/Image를 활성/비활성하는 방식으로 시각화.

## 7. 성공 지표
- Ready 상태에서 드래그로 조준 후 발사 시 Play로 진입하고 볼이 지정 방향으로 날아감.
- 유효하지 않은 드래그는 발사되지 않고 Ready 상태가 유지됨.
- 기존 속도/볼 시퀀스(여러 볼)가 유지됨.

## 8. 남은 질문
- 없음 (요구사항 확정됨).
