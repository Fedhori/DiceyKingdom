# PRD: 고정 포신 자동 발사 및 각도 조정

## 소개/개요
- 스테이지 시작 시 드래그 없이 포신에서 볼을 자동 발사한다.
- 포신 위치는 에디터에서 배치하며 기본 방향은 위(90도)로 시작한다.
- 플레이 중 A/D 입력으로 포신 각도를 회전해 다음 발사에 반영한다.

## 목표
1. 스테이지 시작과 함께 자동 발사(Ready 단계는 스킵만).
2. 포신 각도는 최소 각도(기본 15도) 이하로 내려가지 않도록 제한.
3. 회전 속도 기본 30도/초(설정 가능)로 A/D 입력에 따라 회전.
4. 에임 라인을 플레이 중 항상 표시하고 각도 변경 시 즉시 갱신.
5. 스테이지마다 포신 각도를 기본 위쪽(90도)으로 리셋.

## 사용자 스토리
- 플레이어로서 스테이지가 시작되면 별도 조작 없이 자동 발사되길 원한다.
- 플레이어로서 A/D 키로 포신을 회전시켜 다음 발사 각도를 조정하고 싶다.
- 플레이어로서 플레이 중에도 에임 라인을 보고 현재 포신 각도를 확인하고 싶다.

## 기능 요구사항
1. 포신 Transform/Anchor를 SerializeField로 받아 에디터에서 위치를 설정 가능하게 할 것.
2. 초기 각도 기본값 90도(위쪽)으로 설정하고 스테이지 시작 시 리셋할 것.
3. 최소/최대 각도 값을 SerializeField로 노출(기본 15~165도)하여 범위를 벗어나지 않도록 클램프할 것.
4. 회전 속도를 SerializeField로 노출(기본 30도/초). Input System `Player/Move/Left,Right`(A/D) 입력을 홀드로 받아 매 프레임 회전시킬 것.
5. Ready 단계는 유지하되 스킵 처리하여 스테이지 시작 즉시 발사 시퀀스를 시작할 것. 기존 볼 발사 개수/간격/속도 로직은 그대로 사용.
6. 에임 라인을 플레이 중 항상 렌더링하며 포신 각도 변경 시 즉시 갱신할 것. 이미 발사된 볼 궤적에는 영향 없음.
7. 각도 변경 후 대기 중인/다음 발사 볼은 변경된 각도를 사용해 발사될 것.
8. 입력 비활성 상태(Shop/Reward 등)에서는 회전/발사 입력을 무시할 것.
9. 포신 참조가 없거나 비정상 상태일 때는 안전하게 로그만 남기고 동작을 막을 것.

## 비범위(Out of Scope)
- 포신/볼 비주얼 재작업, 추가 UI 버튼/슬라이더.
- 발사 속도나 볼 개수 변경.
- 멀티 포신, 자동 조준, 듀얼 에임 등 확장 기능.

## 디자인 고려사항
- 기존 에임 라인 스타일 유지(LineRenderer 등). 위치는 포신 기준으로 계산.
- 포신 위치/회전은 인스펙터에서 조정 가능해야 함.

## 기술 고려사항
- Input System `Player/Move/Left,Right` 액션을 재사용.
- 각도/속도는 MonoBehaviour SerializeField로 관리(리셋/클램프 포함).
- Ready 단계는 제거하지 않고 로직만 스킵 처리.

## 성공 지표
- 스테이지 시작 시 드래그 없이 자동 발사 동작.
- A/D 홀드 시 30도/초 회전하며 15도 이하로 내려가지 않음(설정값으로 조정 가능).
- 에임 라인이 플레이 중 항상 표시되고 입력 즉시 반영됨.
- 스테이지마다 각도가 90도로 초기화됨.

## 오픈 질문
- 없음 (최소/최대 각도 15~165도로 확정, 에임 라인 길이/색상은 고정)
